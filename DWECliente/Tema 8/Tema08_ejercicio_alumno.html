<!DOCTYPE html>
<html lang="es">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Ejercicios – Tema 8 con Bootstrap 5</title>
		<!-- Bootstrap 5 CSS -->
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
		<style>
			.card + .card{margin-top:1rem}
		</style>
	</head>
	<body class="bg-light">
		<div class="container pgit">
			<h1 class="mb-4">Ejercicios - Tema 8: Validación de formularios</h1>
			<p class="text-muted">Se mantiene el patrón de validación con <code>addEventListener('submit', …)</code> y validación HTML5 donde corresponde.</p>
			<!-- EJ1 -->
			<div class="card">
				<div class="card-header">Ejercicio 1 – JS básico</div>
				<div class="card-body">
					<form id="bs-form-ej1" class="row g-3" novalidate>
						<div class="col-md-6">
							<label for="usuario" class="form-label">Usuario</label>
							<input class="form-control" type="text" name="usuario">
						</div>
						<div class="col-md-6">
							<label for="clave" class="form-label">Contraseña</label>
							<input class="form-control" type="password" name="clave">
						</div>
						<div class="col-12">
							<button class="btn btn-primary" type="submit">Enviar</button>
						</div>
					</form>
					<div id="bs-msg-ej1" class="mt-2"></div>
				</div>
			</div>
			<!-- EJ2 -->
			<div class="card">
				<div class="card-header">Ejercicio 2 – Validación HTML5 nativa</div>
				<div class="card-body">
					<form id="bs-form-ej2" class="row g-3">
						<div class="col-md-4">
							<label for="email" class="form-label">Email</label>
							<input class="form-control" type="email" name="email" required>
						</div>
						<div class="col-md-4">
							<label for="edad" class="form-label">Edad</label>
							<input class="form-control" type="number" min="18" max="120" name="edad" required>
						</div>
						<div class="col-md-4">
							<label for="password" class="form-label">Contraseña</label>
							<input class="form-control" type="password" minlength="6" required>
						</div>
						<div class="col-12">
							<button class="btn btn-primary" type="submit">Enviar</button>
						</div>
					</form>
					<div class="mt-3 text-success" id="bs-msg-ej2">
						
					</div>
				</div>
			</div>
			<!-- EJ3 -->
			<div class="card">
				<div class="card-header">Ejercicio 3 – Validación con patrón (Pattern)</div>
				<div class="card-body">
					<form id="bs-form-ej3" class="row g-3">
						<div class="col-12">
							<label for="nombreyA" class="form-label">Nombre y Apellidos</label>
							<input class="form-control" type="text" name="nombre" required pattern="[A-Za-zÁÉÍÓÚáéíóúÑñ\- ]+" title="Solo letras, espacios y guiones">
						</div>
						<div class="col-12">
							<button class="btn btn-primary" type="submit">Enviar</button>
						</div>
					</form>
					<div class="mt-3 text-success" id="bs-msg-ej3">
						
					</div>
				</div>
			</div>
			<!-- EJ4 -->
			<div class="card">
				<div class="card-header">Ejercicio 4 – Coincidencia de contraseñas</div>
				<div class="card-body">
					<form id="bs-form-ej4" class="row g-3">
						<div class="col-md-6">
							<label for="contraseña" class="form-label">Contraseña</label>
							<input class="form-control" type="password" name="contraseña" minlength="6" required>
						</div>	
						<div class="col-md-6">
							<label for="repetirContraseña" class="form-label">Repetir Contraseña</label>
							<input class="form-control" type="password" name="repetirContraseña" minlength="6" required>
						</div>
						<div class="col-12">
							<button class="btn btn-primary" type="submit">Registrar</button>
						</div> 
					</form>
					<div id="bs-msg-ej4" class="mt-2"></div>
				</div>
			</div>
			<!-- EJ5 -->
			 <div class="card">
				<div class="card-header">Ejercicio 5 – Registro completo (Todas las técnicas)</div>
				<div class="card-body">
					<form id="bs-form-ej5" class="row g-3">
						<div class="col-12">
							<label for="nombreyA" class="form-label">Nombre y Apellidos</label>
							<input class="form-control" type="text" name="nombreyA" pattern="[A-Za-zÁÉÍÓÚáéíóúÑñ\\- ]+" required>
						</div>
						<div class="col-12">
							<label for="email" class="form-label">Email</label>
							<input class="form-control" type="email" name="email" required>
						</div>
						<div class="col-12">
							<label for="edad" class="form-label">Edad</label>
							<input class="form-control" type="number" name="edad" min="16" max="120" required>
						</div>
						<div class="col-md-6">
							<label for="contraseña" class="form-label">Contraseña</label>
							<input class="form-control" type="password" name="contraseña" minlength="6" required>
						</div>	
						<div class="col-md-6">
							<label for="repetirContraseña" class="form-label">Repetir Contraseña</label>
							<input class="form-control" type="password" name="repetirContraseña" minlength="6" required>
						</div>
						<div class="form-check">
							<label class="form-check-label" for="terminos">Acepto los términos</label>
							<input class="form-check-input" type="checkbox" name="terminos" required>
						</div>
						<div class="col-12">
							<button class="btn btn-primary" type="submit">Enviar</button>
						</div>
					</form>
					<div id="bs-msg-ej5" class="mt-2"></div>
				</div>
			 </div>	
		<!-- Bootstrap 5 JS (bundle con Popper) -->
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
		<script>
			// TODO: Aquí va el código de validación 
			//EJ1
			document.getElementById('bs-form-ej1').addEventListener('submit', function(e) {
				e.preventDefault(); 
				const usuario = this.usuario.value.trim();
				const clave = this.clave.value.trim();

				if(usuario === '' || clave === '') {
					alert('Rellena todos los campos.');
					return;
				}
				this.submit();

			});
			//EJ2
			document.getElementById('bs-form-ej2').addEventListener('submit', function(e) {
				e.preventDefault();
			document.getElementById('bs-msg-ej2').innerHTML = "Formulario enviado correctamente.";
			});
			//EJ3
			document.getElementById('bs-form-ej3').addEventListener('submit', function(e) {
				e.preventDefault();
				document.getElementById('bs-msg-ej3').innerHTML = "Nombre y apellidos válidos.";
			});	
			//EJ4
			document.getElementById('bs-form-ej4').addEventListener('submit', function(e) {
				e.preventDefault();
				const contraseña = this.contraseña.value.trim();
				const repetirContraseña = this.repetirContraseña.value.trim();

				if(contraseña === repetirContraseña){
					document.getElementById('bs-msg-ej4').innerHTML = "Las contraseñas coinciden correctamente.";
				}else{
					document.getElementById('bs-msg-ej4').innerHTML= "Las contraseñas no coinciden.";
				}
			});
			//EJ5
			document.getElementById('bs-form-ej5').addEventListener('submit', function(e) {
				e.preventDefault();
				const contraseña = this.contraseña.value.trim();
				const repetirContraseña = this.repetirContraseña.value.trim();

				if(contraseña !== repetirContraseña) {
					alert('Las contraseñas no coinciden.');
					return;
				}
				const datos = {
					nombreyA: this.nombreyA.value.trim(),
					email: this.email.value.trim(),
					edad: this.edad.value.trim(),
					terminos: this.terminos.checked
				};
				document.getElementById('bs-msg-ej5').innerHTML = JSON.stringify(datos);
			});
		</script>
	</body>
</html>
